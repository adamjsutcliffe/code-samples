using System;
using Peak.QuixelLogic.Scripts.Autogenerated;
using Peak.QuixelLogic.Scripts.Game.Gameplay;
using UnityEngine;
using UnityEngine.Serialization;

namespace Peak.QuixelLogic.Scripts.Settings
{
    /// <summary>
    /// Rules - to become a scripted object - used to hold round, level, board or other rulesets for a game
    /// </summary>

    public sealed class RuleSettings : ScriptableObject
    {
        [Header("Identifier. In groups, ensure these are in order! Starting with 0.")]
        public string Id;

        //[Space]

        [Tooltip("Title of puzzle image to be shown after solving")]
        public string PuzzleNameKey;

        [Tooltip("Level string - Everything builds from this")]
        public string LevelString;

        [Tooltip("Pixel image of the finished puzzle")]
        public Sprite PuzzleIcon;

        [Tooltip("Game board background image")]
        public Sprite BoardBackgroundImage;

        [Tooltip("If game is part of Ftue")]
        public bool IsFtue;

        [Tooltip("If level is a gold card")]
        public bool IsGold;

        [Tooltip("Game time limit in seconds")]
        public int TimeLimit;

        [Tooltip("The time (in seconds) at which the player will have failed to get two stars")]
        public int TwoStarLimitPercentage;

        [Tooltip("The time (in seconds) at which the player will have failed to get three stars")]
        public int ThreeStarLimitPercentage;

        [Tooltip("Unique identifier")]
        public string UniqueID;

        public void Init(string ID, string puzzleName, string levelString, int timeLimit, int threeStarLimitPercentage, int twoStarLimitPercentage, string uniqueID, Sprite puzzleIcon, bool isGold)
        {
            Id = ID;
            PuzzleNameKey = puzzleName;
            LevelString = levelString;
            TimeLimit = timeLimit;
            ThreeStarLimitPercentage = threeStarLimitPercentage;
            TwoStarLimitPercentage = twoStarLimitPercentage;
            UniqueID = uniqueID;
            PuzzleIcon = puzzleIcon;
            IsGold = isGold;
        }
    }
}